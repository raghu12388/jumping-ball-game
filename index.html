<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Helix Jump Telegram</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<style>
html,body{margin:0;overflow:hidden;background:#8fd3f4;font-family:sans-serif}
#ui{position:fixed;top:10px;width:100%;text-align:center;font-size:28px;font-weight:bold}
#overlay{
  position:fixed;inset:0;display:flex;flex-direction:column;
  justify-content:center;align-items:center;background:rgba(0,0,0,.3)
}
button{
  padding:14px 28px;font-size:20px;border:none;border-radius:8px;
  margin:10px;cursor:pointer
}
#start{background:#00e676}
#restart{background:#ff5252;color:white;display:none}
</style>
</head>

<body>

<div id="ui">0</div>
<div id="overlay">
  <button id="start">â–¶ START</button>
  <button id="restart">ðŸ”„ RESTART</button>
</div>

<audio id="bgm" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>
/* ===== TELEGRAM ===== */
const tg = window.Telegram?.WebApp;
tg?.ready();

/* ===== SCENE ===== */
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(70,innerWidth/innerHeight,0.1,50);
camera.position.set(0,7,8);
camera.lookAt(0,0,0);

const renderer=new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
renderer.setPixelRatio(Math.min(devicePixelRatio,1.5));
document.body.appendChild(renderer.domElement);

scene.add(new THREE.AmbientLight(0xffffff,1));

/* ===== OBJECTS ===== */
const tower=new THREE.Group();
scene.add(tower);

const pole=new THREE.Mesh(
  new THREE.CylinderGeometry(.6,.6,30,16),
  new THREE.MeshStandardMaterial({color:0x00ffff})
);
tower.add(pole);

const ball=new THREE.Mesh(
  new THREE.SphereGeometry(.25,16,16),
  new THREE.MeshStandardMaterial({color:0xff4444})
);
scene.add(ball);

/* ===== RINGS WITH GAPS ===== */
let rings=[];
function buildRings(){
  rings.forEach(r=>tower.remove(r));
  rings=[];
  for(let i=0;i<15;i++){
    const ring=new THREE.Group();
    for(let j=0;j<6;j++){
      if(Math.random()<0.25) continue; // GAP
      const part=new THREE.Mesh(
        new THREE.BoxGeometry(1.2,.3,.5),
        new THREE.MeshStandardMaterial({color:i%2?0x00ff66:0xffcc00})
      );
      const a=j*Math.PI/3;
      part.position.set(Math.cos(a),0,Math.sin(a));
      part.rotation.y=a;
      ring.add(part);
    }
    ring.position.y=i*-1.6;
    tower.add(ring);
    rings.push(ring);
  }
}

/* ===== GAME STATE ===== */
let vy=0,gravity=-0.015,score=0,combo=0;
let running=false;

/* ===== UI ===== */
const ui=document.getElementById("ui");
const overlay=document.getElemen




















